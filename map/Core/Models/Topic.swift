import Foundation

struct Topic: Identifiable, Codable {
    let id: String
    let question: String
    let inputQuestion: String
    let hint: String
}

struct TopicGenerator {
    static let topics: [(question: String, inputQuestion: String, hint: String)] = [
        // 笑い・楽しさ
        ("今日、思わず笑っちゃった瞬間ってなかった？", "思わず笑っちゃった瞬間を教えて！", "くすっとしたことでもOK！"),
        ("今日、声に出して笑ったことってある？", "声に出して笑ったこと、何だった？", "笑いのツボは人それぞれ！"),
        ("今日、誰かと笑い合えた瞬間ってなかった？", "誰かと笑い合えた瞬間を教えて！", "目が合って笑うだけでも最高"),
        ("今日、思い出し笑いしちゃうことってある？", "思い出し笑いしちゃうこと、何だった？", "にやけちゃうやつでOK"),
        ("今日、テンション上がった瞬間ってなかった？", "テンション上がった瞬間を教えて！", "小さなことでも全然いいよ"),

        // 安心・ほっとする
        ("今日、ほっとした瞬間ってなかった？", "ほっとした瞬間を教えて！", "安心できた瞬間、それだけで十分"),
        ("今日、「落ち着くなぁ」って感じた瞬間ある？", "「落ち着くなぁ」って感じた瞬間を教えて！", "自分だけの安心ポイント"),
        ("今日、肩の力が抜けた瞬間ってなかった？", "肩の力が抜けた瞬間を教えて！", "ふーってなった瞬間あるよね"),
        ("今日、安心できた瞬間ってある？", "安心できた瞬間を教えて！", "誰かのそばにいるだけでも"),
        ("今日、「大丈夫だ」って思えた瞬間ある？", "「大丈夫だ」って思えた瞬間を教えて！", "その感覚、大事にしよう"),

        // 嬉しい・幸せ
        ("今日、嬉しかったことってなかった？", "嬉しかったことを教えて！", "どんな小さなことでもOK！"),
        ("今日、「やったー！」ってなった瞬間ある？", "「やったー！」ってなった瞬間を教えて！", "心の中でガッツポーズでもOK"),
        ("今日、幸せだなって感じた瞬間ってある？", "幸せだなって感じた瞬間を教えて！", "ささやかな幸せも立派な幸せ"),
        ("今日、「ラッキー！」って思ったことある？", "「ラッキー！」って思ったことを教えて！", "ちょっとした幸運でもいいよ"),
        ("今日、ニコニコしちゃった瞬間ってある？", "ニコニコしちゃった瞬間を教えて！", "自然と笑顔になれたこと"),

        // 感謝・ありがたい
        ("今日、「ありがたいな」って思ったことある？", "「ありがたいな」って思ったことを教えて！", "当たり前に見えることでもOK"),
        ("今日、誰かに助けてもらったことある？", "誰かに助けてもらったことを教えて！", "ちょっとしたことでも嬉しいよね"),
        ("今日、誰かの優しさに気づけた瞬間ある？", "誰かの優しさに気づけた瞬間を教えて！", "さりげない優しさって嬉しい"),
        ("今日、「ありがとう」って思えたことある？", "「ありがとう」って思えたことを教えて！", "感謝の気持ちって温かいよね"),
        ("今日、支えられてるなって感じた瞬間ある？", "支えられてるなって感じた瞬間を教えて！", "一人じゃないって気づけたこと"),

        // 好き・ときめき
        ("今日、「好きだな」って思ったものある？", "「好きだな」って思ったものを教えて！", "好きって気持ち、大事にしよう"),
        ("今日、ときめいた瞬間ってなかった？", "ときめいた瞬間を教えて！", "人でもモノでも何でも！"),
        ("今日、「これ最高！」って思ったことある？", "「これ最高！」って思ったことを教えて！", "あなたの「最高」が知りたい"),
        ("今日、心がきゅんとした瞬間ある？", "心がきゅんとした瞬間を教えて！", "どんなきゅんでもOK"),
        ("今日、推せるものに出会えた？", "推せるものを教えて！", "新しい推しとの出会いかも"),

        // 温かい気持ち
        ("今日、心が温かくなった瞬間ある？", "心が温かくなった瞬間を教えて！", "じんわりくる瞬間ってあるよね"),
        ("今日、誰かとのやりとりで嬉しかったことある？", "誰かとのやりとりで嬉しかったことを教えて！", "LINEの一言でも嬉しいよね"),
        ("今日、「いい人だな」って思った人いる？", "「いい人だな」って思った人のこと教えて！", "周りにいる素敵な人"),
        ("今日、誰かのことを想った瞬間ある？", "誰かのことを想った瞬間を教えて！", "大切な人を思い浮かべるだけで"),
        ("今日、「仲間っていいな」って思えた？", "「仲間っていいな」って思えた瞬間を教えて！", "一緒にいられるだけで幸せ"),

        // 癒し・リラックス
        ("今日、癒された瞬間ってなかった？", "癒された瞬間を教えて！", "ほっこりした瞬間を思い出して"),
        ("今日、「気持ちいい〜」って感じた瞬間ある？", "「気持ちいい〜」って感じた瞬間を教えて！", "風とか日差しとかでもOK"),
        ("今日、のんびりできた時間ってあった？", "のんびりできた時間を教えて！", "ぼーっとできた時間も大切"),
        ("今日、お気に入りの場所で過ごせた？", "お気に入りの場所で過ごせた時間を教えて！", "自分だけの特等席"),
        ("今日、いい匂いに癒された瞬間ある？", "いい匂いに癒された瞬間を教えて！", "香りの記憶って特別だよね"),

        // おいしい
        ("今日、おいしいもの食べた？", "おいしかったものを教えて！", "味の記憶って幸せだよね"),
        ("今日、「これ好き！」って思った味ある？", "「これ好き！」って思った味を教えて！", "好きな味に出会えた日"),
        ("今日、ごはんの時間が楽しかった瞬間ある？", "ごはんの時間が楽しかった瞬間を教えて！", "誰かと食べるのも一人で食べるのも"),
        ("今日、飲み物でほっとした瞬間ある？", "飲み物でほっとした瞬間を教えて！", "一口で生き返る瞬間ってあるよね"),
        ("今日、食べて元気が出たものある？", "食べて元気が出たものを教えて！", "おいしいは正義！"),

        // きれい・感動
        ("今日、きれいだなって思ったものある？", "きれいだなって思ったものを教えて！", "景色でも人でも何でも"),
        ("今日、感動した瞬間ってなかった？", "感動した瞬間を教えて！", "胸がじーんとしたこと"),
        ("今日、「すごい！」って思ったことある？", "「すごい！」って思ったことを教えて！", "驚きと感動の瞬間"),
        ("今日、見とれちゃった瞬間ある？", "見とれちゃった瞬間を教えて！", "思わず目を奪われたもの"),
        ("今日、空がきれいだった瞬間ある？", "空がきれいだった瞬間を教えて！", "空って毎日違うよね"),

        // 頑張った・成長
        ("今日、頑張れた自分を褒めてあげよう！何を頑張った？", "今日頑張ったことを教えて！", "頑張った自分にハナマル"),
        ("今日、「やりきった！」って思えた瞬間ある？", "「やりきった！」って思えた瞬間を教えて！", "達成感って最高だよね"),
        ("今日、昨日の自分より成長できたことある？", "昨日の自分より成長できたことを教えて！", "ほんの少しでも前進してる"),
        ("今日、新しいことに挑戦できた？", "新しいことに挑戦できたことを教えて！", "一歩踏み出した自分えらい"),
        ("今日、ちょっと勇気を出せた瞬間ある？", "ちょっと勇気を出せた瞬間を教えて！", "勇気を出せた自分すごい！"),

        // 自分を認める
        ("今日の自分、何か一つ褒めるとしたら？", "今日の自分を褒めてあげて！", "どんなことでもいいよ"),
        ("今日、「私ってけっこういいじゃん」って思えた瞬間ある？", "「私ってけっこういいじゃん」って思えた瞬間を教えて！", "自分のこと、もっと好きになろう"),
        ("今日、自分らしくいられた瞬間ある？", "自分らしくいられた瞬間を教えて！", "ありのままの自分が一番"),
        ("今日、自分の好きなところに気づけた？", "自分の好きなところを教えて！", "いいところいっぱいあるよ"),
        ("今日、「これは得意！」って思えたことある？", "「これは得意！」って思えたことを教えて！", "あなたの強み、教えて！"),

        // 夢中・ワクワク
        ("今日、夢中になれたことってある？", "夢中になれたことを教えて！", "時間を忘れるくらいのもの"),
        ("今日、ワクワクした瞬間ってなかった？", "ワクワクした瞬間を教えて！", "楽しみなこと、何でもOK！"),
        ("今日、「楽しい！」って思った瞬間ある？", "「楽しい！」って思った瞬間を教えて！", "楽しいの形は人それぞれ"),
        ("今日、時間を忘れて没頭できたことある？", "時間を忘れて没頭できたことを教えて！", "好きなことに集中できた時間"),
        ("今日、楽しみにしていることってある？", "楽しみにしていることを教えて！", "未来のワクワクも立派な幸せ"),

        // 発見・気づき
        ("今日、新しく気づいたことってある？", "新しく気づいたことを教えて！", "小さな発見って楽しいよね"),
        ("今日、「へぇ〜！」ってなったことある？", "「へぇ〜！」ってなったことを教えて！", "知るって楽しい"),
        ("今日、いつもと違う景色に気づけた？", "いつもと違う景色を教えて！", "見慣れた場所にも発見がある"),
        ("今日、「面白い！」って思ったことある？", "「面白い！」って思ったことを教えて！", "知的好奇心が動いた瞬間"),
        ("今日、初めて知ったことある？", "初めて知ったことを教えて！", "世界はまだまだ面白い"),

        // 音楽・エンタメ
        ("今日、いい曲に出会えた？", "いい曲を教えて！", "音楽って心に効くよね"),
        ("今日、お気に入りの曲を聴けた？", "お気に入りの曲を教えて！", "好きな曲は何度でも最高"),
        ("今日、面白い動画や番組を見れた？", "面白かった動画や番組を教えて！", "笑えるコンテンツは宝物"),
        ("今日、心に残った言葉ってある？", "心に残った言葉を教えて！", "たった一言で救われることもある"),
        ("今日、推しに元気をもらえた？", "推しからもらった元気を教えて！", "推しの存在は偉大"),

        // 懐かしさ・思い出
        ("今日、懐かしいなって思ったことある？", "懐かしいなって思ったことを教えて！", "いい思い出がある証拠だね"),
        ("今日、楽しかった思い出を思い出した？", "思い出した楽しい記憶を教えて！", "過去の幸せも今の幸せ"),
        ("今日、「またやりたいな」って思ったことある？", "「またやりたいな」って思ったことを教えて！", "楽しかった記憶は宝物"),
        ("今日、昔の自分を振り返って成長を感じた？", "成長を感じたことを教えて！", "変わっていく自分も素敵"),
        ("今日、大切な思い出が蘇った瞬間ある？", "蘇った大切な思い出を教えて！", "記憶の中にも幸せがある"),

        // 誰かへの気持ち
        ("今日、誰かに「ありがとう」を伝えられた？", "「ありがとう」を伝えた・伝えたかったことを教えて！", "伝えるだけで幸せが生まれる"),
        ("今日、誰かを笑顔にできた瞬間ある？", "誰かを笑顔にできた瞬間を教えて！", "人を笑顔にできるって素敵"),
        ("今日、誰かの役に立てた瞬間ある？", "誰かの役に立てた瞬間を教えて！", "ほんの少しでも誰かの力に"),
        ("今日、誰かと気持ちが通じ合えた瞬間ある？", "誰かと気持ちが通じ合えた瞬間を教えて！", "わかり合える瞬間って最高"),
        ("今日、大切な人のことを考えた瞬間ある？", "大切な人のことを考えた瞬間を教えて！", "想うだけでも幸せだよね"),

        // 小さな幸せ
        ("今日、「地味に嬉しい」ことってあった？", "「地味に嬉しい」ことを教えて！", "地味な嬉しさが一番じわる"),
        ("今日、何気ない瞬間で幸せを感じた？", "何気ない瞬間の幸せを教えて！", "日常にこそ幸せは隠れてる"),
        ("今日、「あ、いいな」って思った瞬間ある？", "「あ、いいな」って思った瞬間を教えて！", "ふとした「いいな」を大切に"),
        ("今日、小さいけど嬉しかったことある？", "小さいけど嬉しかったことを教えて！", "小さな幸せの積み重ね"),
        ("今日、「平和だな〜」って思えた瞬間ある？", "「平和だな〜」って思えた瞬間を教えて！", "穏やかな時間も幸せのひとつ"),

        // 元気・パワー
        ("今日、元気をもらえた瞬間ある？", "元気をもらえた瞬間を教えて！", "パワーをくれたもの、何だろう"),
        ("今日、「よし、やるぞ！」ってなった瞬間ある？", "「よし、やるぞ！」ってなった瞬間を教えて！", "やる気スイッチが入った瞬間"),
        ("今日、前向きな気持ちになれた瞬間ある？", "前向きな気持ちになれた瞬間を教えて！", "前を向けた自分すごい"),
        ("今日、笑顔で過ごせた時間ってあった？", "笑顔で過ごせた時間を教えて！", "笑顔の時間は最高の時間"),
        ("今日、「明日も頑張ろう」って思えた？", "「明日も頑張ろう」って思えた理由を教えて！", "明日への希望も幸せだよ"),

        // 感覚・五感
        ("今日、いい天気だなって感じた瞬間ある？", "いい天気だなって感じた瞬間を教えて！", "天気ひとつで気分が変わるよね"),
        ("今日、気持ちいい風を感じた瞬間ある？", "気持ちいい風を感じた瞬間を教えて！", "風が気持ちいい日は最高"),
        ("今日、ぐっすり眠れた？よく寝れた朝ってどうだった？", "よく眠れたこと・気持ちいい朝を教えて！", "いい睡眠は幸せの基本"),
        ("今日、触り心地がよかったものある？", "触り心地がよかったものを教えて！", "もふもふ・すべすべ・ふわふわ"),
        ("今日、いい音を聞いた瞬間ある？", "いい音を聞いた瞬間を教えて！", "雨音や笑い声も素敵な音"),

        // 特別感
        ("今日、ちょっと特別に感じた瞬間ある？", "ちょっと特別に感じた瞬間を教えて！", "日常の中の特別を見つけよう"),
        ("今日、自分にご褒美をあげられた？", "自分へのご褒美を教えて！", "自分を甘やかすのも大事！"),
        ("今日、「今この瞬間がいいな」って思えた？", "「今この瞬間がいいな」って思えたことを教えて！", "「今」を楽しめてるって素敵"),
        ("今日一日を色で表すとしたら何色？", "今日の色とその理由を教えて！", "あなたの今日は何色だった？"),
        ("今日を一言で表すなら？", "今日を一言で表してみて！", "一言に詰まった今日の気持ち"),
    ]

    static func generateTopic(for date: Date = Date()) -> Topic {
        let calendar = Calendar.current
        let dayOfYear = calendar.ordinality(of: .day, in: .year, for: date) ?? 1
        let index = (dayOfYear - 1) % topics.count

        let t = topics[index]
        return Topic(
            id: "\(dayOfYear)",
            question: t.question,
            inputQuestion: t.inputQuestion,
            hint: t.hint
        )
    }
}

extension Topic {
    static let defaultTopics: [Topic] = [
        Topic(
            id: "1",
            question: "今日、思わず笑っちゃった瞬間ってなかった？",
            inputQuestion: "思わず笑っちゃった瞬間を教えて！",
            hint: "くすっとしたことでもOK！"
        )
    ]

    static func todaysTopic() -> Topic {
        TopicGenerator.generateTopic()
    }
}
